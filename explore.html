<!DOCTYPE html>
<html lang="es">
<head>
    <!-- Meta tags from the original document -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>DESIGN DRIVEN RESEARCH</title>
    <meta name="title" content="DESIGN DRIVEN - RESEARCH">
    <meta name="description" content="Design driven research platform for better thesis visualization.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://design-driven.cl/">
    <meta property="og:title" content="DESIGN DRIVEN - RESEARCH">
    <meta property="og:description" content="Design driven research platform for better thesis visualization.">
    <meta property="og:image" content="https://design-driven.cl/path-to-my-image.jpg">
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://design-driven.cl/">
    <meta property="twitter:title" content="DESIGN DRIVEN - RESEARCH">
    <meta property="twitter:description" content="Design driven research platform for better thesis visualization.">
    <meta property="twitter:image" content="https://design-driven.cl/path-to-my-image.jpg">

    <!-- CSS and Fonts from the template -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='currentColor' class='bi bi-asterisk' viewBox='0 0 16 16'%3E%3Cpath d='M8 0a1 1 0 0 1 1 1v5.268l4.562-2.634a1 1 0 1 1 1 1.732L10 8l4.562 2.634a1 1 0 1 1-1 1.732L9 9.732V15a1 1 0 1 1-2 0V9.732l-4.562 2.634a1 1 0 1 1-1-1.732L6 8 1.438 5.366a1 1 0 0 1 1-1.732L7 6.268V1a1 1 0 0 1 1-1'/%3E%3C/svg%3E">
    <link href="css/styles.css" rel="stylesheet">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-autocolors"></script>

</head>
<body>
    <!-- Navbar section start -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <!-- Left side of the navbar -->
            <a class="navbar-brand" href="#">Memorias de Proyecto de Título de Diseño UC - Nueva Interfaz</a>

            <!-- Right side of the navbar -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Inicio</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="visualize.html">Visualizar</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://diseno.uc.cl/memorias/index.php">Interfaz vieja</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- Navbar section end -->

    <!-- Content section start -->
    <div class="container mt-5">
        <div class="row justify-content-center"> <!-- Center the entire content -->
            <div class="col-lg-6">
                <!-- Search Engine Section -->
                <div class="input-group mb-3">
                    <input type="text" class="form-control" placeholder="Escribe los términos o palabras clave que quieras buscar..." id="searchInput">
                    <div class="input-group-append">
                        <button class="btn btn-primary" type="button" id="searchButton">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                                <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"/>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div class="row justify-content-center mt-3"> <!-- Center the entire content -->
            <div class="col-lg-3">
                <!-- Filters Section start -->
                <h5>Filtros</h5>
                <!-- Add your filter elements here, for example: -->
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="filter1">
                    <label class="form-check-label" for="filter1">
                        Filtro 1
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="filter2">
                    <label class="form-check-label" for="filter2">
                        Filtro 2
                    </label>
                </div>
                <!-- Add more filters as needed -->
            </div>
        </div>

        <!-- Filters Section end -->

        <!-- Table section start -->

        <div class="row justify-content-center mt-3"> <!-- Center the entire content -->
            <div class="col-lg-12">
                <!-- Database Visualization Section -->
                <h5>Repositorio de Memorias de Título</h5>
                <table class="table table-dark table-bordered table-striped ">
                    <thead>
                        <tr>
                            <th>Año</th> <!-- New column for Year -->
                            <th>Nombre del Proyecto</th>
                            <th>Guía(s)</th> <!-- New column for Guides -->
                            <th>Ámbito</th>
                            <th>¿Qué?</th>
                            <th>PDF</th>
                            <th>Evaluación</th>
                            <th>Más información</th> <!-- More information button -->
                        </tr>
                    </thead>
                    <tbody id="databaseTable">
                        <!-- Table rows will be dynamically added here using JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
    <!-- Table section end -->

    <!-- Modal section start -->

    <div class="modal fade" id="projectInfoModal" tabindex="-1" aria-labelledby="modalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modalLabel">Información del Proyecto</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <!-- Project Information Goes Here -->
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal section end -->

    <!-- Content section end -->

    <!-- Footer section start -->
    <footer class="footer bg-dark text-white mt-5 p-3 text-center">
        <div class="container">
            <span>Examen para el curso de Diseño y Nuevos Medios 2023-2 - Nicolás Cruzat</span>
        </div>
    </footer>
    <!-- Footer section end -->

    <!-- Bootstrap Bundle with Popper -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Scripting section -->
    <script>
    
    // Function to open the modal and display the project information
    function openModal(project) {
        // Assuming 'project' is an object with the project details
        const modalBody = document.getElementById('projectInfoModal').querySelector('.modal-body');
        modalBody.innerHTML = `
            <p><strong>Año:</strong> ${project.year}</p>
            <p><strong>Nombre del Proyecto:</strong> ${project.nombre_proyecto}</p>
            <p><strong>Guía:</strong> ${project.nombre_guia}</p>
            <p><strong>Ámbito:</strong> ${project.ambito}</p>
            <p><strong>Descripción:</strong> ${project.que}</p>
            <!-- Add more details as needed -->
        `;

        // Use Bootstrap's modal methods to show the modal
        var modal = new bootstrap.Modal(document.getElementById('projectInfoModal'));
        modal.show();
    }
    
    // Fetch JSON data from the file
    fetch('https://raw.githubusercontent.com/nicru/design-driven/main/updated_cleansed_data.json')
        .then(response => response.json())
        .then(data => {
            const tableBody = document.getElementById('databaseTable');
            data.forEach(item => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${item.year}</td> <!-- Year -->
                    <td>${item.nombre_proyecto}</td>
                    <td>${item.nombre_guia}</td> <!-- Guide -->
                    <td>${item.ambito}</td>
                    <td>${item.que}</td>
                    <td><a href="https://diseno.uc.cl/memorias/pdf/${item.nombre_pdf}">PDF</a></td> <!-- PDF Link -->
                    <td>${item.nota_titulo}</td>
                    <td><button onclick="openModal('${item.id}')">Más Información</button></td> <!-- More Information -->
                `;
                tableBody.appendChild(row);
            });
        })
        .catch(error => console.error('Error fetching or processing data:', error));

    </script>

</body>
</html>
